language: node_js
sudo: required
node_js:
  - '4.3'
  - '6.5'
cache:
  edge: true
  directories:
    - $(npm root -g)
    - node_modules
    - deep_modules
    - $(npm config get prefix)/bin
branches:
  only:
    - master
    - dev
    - stage
    - test
before_install:
  - cp bin/test/package.json .
after_success:
  - npm run coverage
after_script:
  - npm run remove-coverage
env:
  matrix:
    - TEST_SUITE=backend
    - TEST_SUITE=frontend
  global:
    - DEEP_NO_INTERACTION=1
    - E2E_TESTING=none
    - MAJOR_VERSIONS=master
    - secure: 
        iF1aGktKEVn4mzQ0be9kdY3tADrIJjPesaPdV8eWEbg0r0kyztPvxHB1ptktfx/4qv3VVMpq5kgNeji/iF7tDXRETpSeHzBR3lBTAKQ3BO+QZsZUAii2vD7/h9HXH6Cz0Bb48iG9wc8zcCRv2EVXfzyIOCFoGapdZ7/ERq4VP8fiOITD7DbD4rkfZitwNBlPT2lmYJsm5bLvNPybW0WTMaTmp8WBgQZeLcQWCIjYdFkJEwNLBnnUswBQ8iZMryF1McNZwvUpnFPzJjjDtqwHtVm7xLp0NpVDffMUWIlzthY6Yowv10h1ipFhAYe1k9LwfZxqW5fIW5fx+kp+9bVGG+QdpjnWu5mcC8StmRkG4NjyW3X+Z4WL0fFa3YCp7s9MY6rAdTEILfkfaAO3tq32O7hVmXPl/tdDyMUPBqwnUcxFbWUzuQmJe8p0EdyxRIGeZK0z6tYoDZrryFmMCsfMzvo+F+MojRBoPnyytFeEPfCusRjlAwP3/rlkAUWmyL3msbJ3+1+xLTO6elP2BnFU0IzL18tkaC5CiqthscFP1N/qN5kZYubSoQdX0LMZKLHr0lW/WK/BLqN065sw/nH1gkpNvFihPtz0Z57wP2IahAtE2fDildYyni2kgBEjG11FX9ib9CNYy8pTlW8yRz2NY7T4sIDjMiODZFGAmMx0J1o=
    - secure: 
        Na5/nhzbDX1FmdDlSJMltKQSJJMvF9KLJdbZ2IVqR+YC3wxhzx3GTlwS84GxYASgzkFv9MvOxbqemWGCW8q/F0wPK+ynuIWVOtts7R4hi6ijj4QqzitZXpxfv8JLoBcPUA59WZ4ndMD5hBoyzxZbhdIe+3UIU+L6EdqMKKW/NALKgopxsCqm7rMkwpWdveKzAg6cl/Eh80xVnzFd9rQu5BNrfnbKToYNMxRuZfte+pmE4dINCqQS/kj3JIhPHrwpuu+R8r4to/0ka4So2w618b671v15U0poxQl5D+/x7ii7vR1nXALmpuTecDvoIn/demV8yvWt29O55N8Gd+GP6BZmkkpmrBc6vnfmutKVm+osO/+w4tLLKqHx2H3Sm8WKcGoFQurxX+A7FCJQHh+UkgrKWxxUoPW6OKdIC5iDdQWxYQNo8BF3EEEMqXMVAl9vBfmU4VKVAStAyMdK45e8timrjpkRrV2nkEHMkChDqtrxdnhL9T5csE0IASqlWoaS0JU3q5Er7CHTDsxN3+3ckw+F1ucYXVKCYVRpx89x+B0pxacURXIcw3mnfduyk564tnay6hKeKyyudt/QOIpP96uP0rxJJicNkxa9yArHRZE5D0RpfaeYmyiI+FyUg2xxazBGNvhO7fRUavN/JA9xlJVCmCo8I4kffBl1qQtNdoo=
    - secure: 
        gxinJ4sSwGWfiwXyNtXr9epkO294MrQI6+oE1FlaM956hVH1Df1Fq3Y4bZcf6Sflbpg7rGmPsJ1SQcZ4PzvuMdn3xZ9f7eryenuoAfr9/0OPIHqN7XQiKm3WTFoQyr16cPqioL/LRUvDWdsmQ2xrGVDwOzYuBnmaDHBMLcYinF48mEeU+Or0mcNW4KErVcUf2o/BIuUEIsbFPbf2J+N+7h0no3qvA47XNzVHb73CRTi+N8k+MPznVuhD64yt5Peq4Qdg+do5+wFwIbOxSeY12giLyywpbMAhBirIgtddc1ejorb0VtyNwj1VxoMnXNQDgivF2Ukq6GOHCYSNnZmyXDAlwN0k5mGOqYpt19woIKxSIYKao7yl+6k7HE6oNoTxD/KOzwva4znPtULf7sPy7ed0U3gkc74v1hp0pLkRWOcCbZZIeTWf0D1M7dtkf3vUlvJqa16YavoNIPbbMJixJHJR4cOyhH1jSDFMzPOUGTXClbYDXtOxDpTiKQeifXdi62z14Cfcqoln6KxYF1LIa86TI4xJ0CqNV4uwkDhCrogremvbETjicXraOtPcVNLtbrhcBbkgNE0WEKmgZc3XrU6lRoED/4flkYex/xgAydISc709DEGsKu+KF6divZQQDZ7Ls4hTuApSJ66lTwfgJYn35xo8qM/58Yc1jHDh5JE=
    - secure: 
        VWg0sg8V9HcvxZAOKCkUb6hrApQW2WUYp40IiaD97J1G5X53GkuSIPDMJsc1qXAqJmVuy7vXjTDg+pdiqi6N1NDhcCR1ReLDTzgqf4E3bYQfZYIGZSzS8uo5zOW01kT7uAC9DbLucRlyZMlhjdoNeb8Q+btrB+hYUEFLcWd/xbw7LjuDknYVzmJyCfsavV8HEpbtTjszJ0+3IIMouI9aF9hPG4yvQ28zrrFnzKeft6/WzGDFFz/9ip+mR9k2P0cWJMs9pEfuzzpyDcnwd6JgyJ5C9CckyjomYHnHu7Oh5CitBxO1N0vCwTqZJBdsP4EfO5qS0I+XM4cihO0IpxtUUNcNwbE3Q03bX/riv49ZMBWk/3ERvQ1N+3jU6VMV7osjq8jydRViLbtZ69fBd1/bBtzgWZk9q6PdaLlBU9yLqL24QII2/+BSAJkFL+COTeu/o05Bd0OruHPd9uXeY+N5C8HIlp4LjmfefhbbPJhuSDevBKs8ZAc3dTswYTo71W3O27CL9FSAG3gEPZ7+AdExgu8rzk+pqNmtVGXN8Uf/jSbFQwjX31JOLK8udXEAfYRM93XgxZ24YIQlWX6/UBddOPM2xct7MlV8VR1+gRHYwuqieQ5nrqtHyVJqwxd6dlUTJjgmi0nVJ+RmLiiCbnzwGaV8mBvEjxq7PrKR/uecm1c=
    - secure: 
        UDwqHM7j/1WkMUMeHHZ+R286bAeyePxVmUXGSDjOfYQHWLyde3b4CNwkRimBOt959XsZ+uA1E2UopPPVFL/PvQzktvRCkoM1koacL4pwwR5hTCRaqcg4wcfJXS1Ot51kqTo4dg7b9umbXQrc5lEMWp6VAjUjArAdlCn9nbPVjv6O3p8m+ZDQJYJNpa19qeplU+7GbIEo4LruxUCJ8RMNgACL0NJ0RVzO4LauEMSognsgxGieYMGsASGzqBRn9ZPqogW/YOc7fldKPjyN9jg8b+cXAaHPfatvyFHCEdrV3ycHF6n3ybwdv8+1brgaDpnJ3dblIuZU7zbIvaHE8XLx9suZG0HSkXTd/A7vdWHDcCo0hEamYAxWaFiSquh02fGezwWT9IljkFQOwJIN5XoXZeCGFxwEpj8OF06lderP82zUuteptmScK1+Nf2wXRIS2GRXs4C/W0DHUDHcj9mfp+t/gCC34r8rodtGDKb5X9D8+a6bY7L0SlOhLngkoRfK+e6AKZVtmBYFL1v5QPVrTwLKAAExbwWmNIPQJ5yw3tlBdz1PP47dIMy9GDRYJ+U8uX2Kn4Xb6Rk/gA6TvzJyevvnI45Bx33ZtPUeHmjJbV6fKQS+IFX1Sjg9G6THgv9m+ik+gJOfeOgFAv+Vom8yIMOldp3B05jXD7Kf82RBjJHk=
    - secure: 
        DS67GXEhLM12ZqXvKR1ncFdLRYHOUtx/YjwN52pxDZp4E2pkFSF09Cs2hsx41skt3A9YWbfV1F+x7K705W8pKYr1dCb6hAaUA56ZCi3wRjvvj7JPZ7VwD2uk3pUctoXV4BVHVGWyrTUzwLKeh586nGP1gk/0R5V5m1BUDsEYHu7nPcu82WIKU+PZ9df/XhfzwkSwIZsZydWpNFeTi8+BKx1+neMSP4Ya9X9Co91obrgHFDwLkEMQuO0+26YKIeo6Z20w9F+1JqRoTwWX11eNhIAJgRw+OEchDuQQ1Kndp524Z0Y2NOaaKrZIyTi7JIgFrbtQTdNNN68fvX/xoWcSUt9Mb3OpSpVJYeUGgjpNR0eQOnVr/8aDyREDpMuNvogc52MFB4BhMOdWQ13W7AmcHev2KAlPF3iAavowtUv6/+s94V9Prn8mf733WC/ACYzX/lV6i9ji9SCCOjx7T5RvEoITyBdLQkC/pOIw4sib+pysLcE4vzBQ9NpJflQZRUwlE7WeT4ncbarE557K4lG4AOvJNfbTintRncP5GLuEFWzKMKvy0pVnXjyN2XNAlXie2uKNlTa43xA1JiACFIhp/goiCx6u0hxiA+07jVA4pGeW5YZ/1DxNfHv/1z2/hgEIj6GFTGOOlSV/9qE1mW6D1ZzjPL1wkM+SNb/dg14fX5g=
    - secure: 
        drTezMbcPUVk5ukBEWCyD96/rcjs1ql6oqHAW8k9AyS+aTRhltlWLFiA1NwuSshRzj9G2tbsYf/KQidI+jEYfrb8iDQOMvfVg7HHt565rWBqxBXCewLn+xEVwjz4XX3nRSk9RdDHzcnHTrs9qqYKbdrGl4ResHOZRDsSChOPaNKZvUK1w4oA6UfRu6razva0c5qRhOJUNQHPAuDauPnpD6x9e+2w70uOSR6AXx5V1J53Unn3D5ILGQWnDV20bcPF1fW1K2R8FocP3fVw9FklCEH1s+dOWV2jy2EKD+YQrSJssR6fylCKvOZMABT4Huk3PjeIKHSyRqTynmZDYyNKltGGT+cCRyoUKy2RYTkq1rguOw/VUZ/ofhkXmkZEeyYsy0TazeGrYdo8PDJco/hqDJZHvwHnlGw4KtjIYS5a/KnUIo5DWcqFLgnDTtdxkdB5xrsPIHpDBQGf9XvyNcF8rZiT0HXi54hWoFb/F1ZeH3XSMp7GjEWn8lzQBMpAn4Swnntl8kbioT2vonwgByJDj1oPXhbBfZM4RYTFjDEtkfK/iAN7BBLxaHH1Ung3e4IP4800/SEbMMOw1bv0pTOIUW2s4P9b8WoyX90ZwAxyrQa0nB04jWBXwGipvOSXl1qC0CM1PxYhaPiIy/LNMAM9isN9KbY9k3oovgvJ6hF3Pac=
notifications:
  slack:
    secure: 
      FAa5DUN6+IlsjF6/M8YdPUme11C4leK7S/8mG+ntgBgJyQ8qW4NAc3BJehjI6mUDUvJRHxCkSrROUD10xzZLnB6mcj2mnZb8CbLLhk06N1GFzOJ8sZeT5eegV6hDi8uq1QvwFOxOhYzm0EQaVSqgP7nkXQScyX9ZbpDbM4TWT+Z5dG2TNRclkKG7dOhSjwl9rb9Tkk70IytWW7GvqPQA24ii0jF5Q1bTSuENMHZsORZ2DwsxFEeIUuXiWxQxmCNE7nhUIQWCkvAshVLLUBKr2DjZSpS/AJ9BQGpdnhb7mL9tyTz/IZMe/j4/hYd27+6St3vOrZnI7NmpV4COcHJMLWdmtNVQEHUpzX4PzGXMDe/fDGfICvsZKoMPqtHMhUxpyI5OsFC+o5BTonMBH9iJ9PwAdoPD/kWkgjU8NW6KVX0lQWp/YSL2bRpFemftdVrX/EIPcpI5Le13WnBU6yk7TuGMqv4yEYlZCef60J/M8KN3qrD8qOIDNp26M9U59udpFG0dVEA56YjkCHN8jjjywt1iBb8AQYQrAtEAFp85RwZHcmh3/Z3g0D64oI3sx8+MWHiHOvfpt8JRie98betqxPHpdnU73Kzcn8O+W2CU61kXfquQvW/uD78lv2V4ku8Shf2QA+VBWBCqWihfJcKZHBum3AGlYtxTublJxRZ0S/I=
